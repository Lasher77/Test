{"ast":null,"code":"var _jsxFileName = \"/Users/svenwinkler/CRM-Argus/frontend/src/pages/quotes/QuoteDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Paper, Button, Grid, Card, CardContent, Divider, List, ListItem, ListItemText, ListItemIcon, Chip, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, CircularProgress, Snackbar, Alert } from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport EditIcon from '@mui/icons-material/Edit';\nimport BusinessIcon from '@mui/icons-material/Business';\nimport DescriptionIcon from '@mui/icons-material/Description';\nimport ReceiptIcon from '@mui/icons-material/Receipt';\nimport CalendarTodayIcon from '@mui/icons-material/CalendarToday';\nimport EventAvailableIcon from '@mui/icons-material/EventAvailable';\nimport axios from 'axios';\n\n// API Service für Angebote\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:3000/api';\n\n// Styled-Komponente für den Header-Bereich\nconst HeaderBox = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  marginBottom: theme.spacing(3)\n}));\n\n// Styled-Komponente für die Info-Karte\n_c = HeaderBox;\nconst InfoCard = styled(Card)(({\n  theme\n}) => ({\n  marginBottom: theme.spacing(3)\n}));\n\n// Funktion zum Formatieren von Währungsbeträgen\n_c2 = InfoCard;\nconst formatCurrency = amount => {\n  return new Intl.NumberFormat('de-DE', {\n    style: 'currency',\n    currency: 'EUR'\n  }).format(amount);\n};\n\n// Funktion zum Formatieren von Datumsangaben\nconst formatDate = dateString => {\n  if (!dateString) return 'Nicht angegeben';\n  return new Date(dateString).toLocaleDateString('de-DE');\n};\n\n// Funktion zum Übersetzen des Status\nconst translateStatus = status => {\n  switch (status) {\n    case 'draft':\n      return 'Entwurf';\n    case 'sent':\n      return 'Gesendet';\n    case 'accepted':\n      return 'Akzeptiert';\n    case 'rejected':\n      return 'Abgelehnt';\n    default:\n      return status;\n  }\n};\n\n// Funktion zum Bestimmen der Statusfarbe\nconst getStatusColor = status => {\n  switch (status) {\n    case 'accepted':\n      return 'success';\n    case 'rejected':\n      return 'error';\n    case 'sent':\n      return 'primary';\n    default:\n      return 'default';\n  }\n};\nconst QuoteDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [quote, setQuote] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [items, setItems] = useState([]);\n\n  // Angebots-Daten laden\n  useEffect(() => {\n    const fetchQuote = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(`${API_URL}/quotes/${id}`);\n        if (response.data.success) {\n          setQuote(response.data.data);\n        } else {\n          setError('Fehler beim Laden der Angebots-Daten');\n        }\n      } catch (err) {\n        console.error('Fehler beim Abrufen des Angebots:', err);\n        setError('Fehler beim Laden der Angebots-Daten');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchQuote();\n  }, [id]);\n\n  // Account-Daten laden, wenn Angebot geladen wurde\n  useEffect(() => {\n    if (quote && quote.account_id) {\n      const fetchAccount = async () => {\n        try {\n          const response = await axios.get(`${API_URL}/accounts/${quote.account_id}`);\n          if (response.data.success) {\n            setAccount(response.data.data);\n          }\n        } catch (err) {\n          console.error('Fehler beim Abrufen des Accounts:', err);\n        }\n      };\n      fetchAccount();\n    }\n  }, [quote]);\n\n  // Angebotspositionen laden, wenn Angebot geladen wurde\n  useEffect(() => {\n    if (quote && quote.quote_id) {\n      const fetchItems = async () => {\n        try {\n          const response = await axios.get(`${API_URL}/quotes/${id}/items`);\n          if (response.data.success) {\n            setItems(response.data.data);\n          }\n        } catch (err) {\n          console.error('Fehler beim Abrufen der Angebotspositionen:', err);\n        }\n      };\n      fetchItems();\n    }\n  }, [id, quote]);\n\n  // Gesamtbetrag berechnen\n  const calculateTotal = () => {\n    return items.reduce((total, item) => {\n      const itemTotal = item.quantity * item.unit_price;\n      const discount = itemTotal * (item.discount / 100);\n      const afterDiscount = itemTotal - discount;\n      const tax = afterDiscount * (item.tax_rate / 100);\n      return total + afterDiscount + tax;\n    }, 0);\n  };\n\n  // Zurück zur Angebots-Liste\n  const handleBack = () => {\n    navigate('/quotes');\n  };\n\n  // Zum Bearbeiten-Formular navigieren\n  const handleEdit = () => {\n    navigate(`/quotes/edit/${id}`);\n  };\n\n  // Zum Account navigieren\n  const handleAccountClick = () => {\n    if (account) {\n      navigate(`/accounts/${account.account_id}`);\n    }\n  };\n\n  // Angebot in Rechnung umwandeln\n  const handleCreateInvoice = () => {\n    navigate(`/invoices/new?quote_id=${id}`);\n  };\n\n  // Angebot als PDF exportieren\n  const handleExportPdf = () => {\n    // Diese Funktion würde in einer erweiterten Version implementiert werden\n    alert('PDF-Export-Funktion wird in einer zukünftigen Version implementiert.');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !quote) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(HeaderBox, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 24\n          }, this),\n          onClick: handleBack,\n          children: \"Zur\\xFCck\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3,\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: error || 'Angebot nicht gefunden'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderBox, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 24\n          }, this),\n          onClick: handleBack,\n          sx: {\n            mr: 2\n          },\n          children: \"Zur\\xFCck\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: quote.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          label: translateStatus(quote.status),\n          color: getStatusColor(quote.status),\n          size: \"small\",\n          sx: {\n            ml: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: handleExportPdf,\n          sx: {\n            mr: 1\n          },\n          children: \"Als PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), quote.status === 'accepted' && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: handleCreateInvoice,\n          sx: {\n            mr: 1\n          },\n          children: \"Rechnung erstellen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 24\n          }, this),\n          onClick: handleEdit,\n          children: \"Bearbeiten\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 8,\n        children: [/*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            mb: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(InfoCard, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Angebotsinformationen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(List, {\n                    dense: true,\n                    children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                      children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                        children: /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 283,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 282,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                        primary: \"Titel\",\n                        secondary: quote.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                      children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                        children: /*#__PURE__*/_jsxDEV(CalendarTodayIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 292,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                        primary: \"Ausstellungsdatum\",\n                        secondary: formatDate(quote.issue_date)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(List, {\n                    dense: true,\n                    children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                      children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                        children: /*#__PURE__*/_jsxDEV(EventAvailableIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 305,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                        primary: \"G\\xFCltig bis\",\n                        secondary: formatDate(quote.valid_until)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                      children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                        children: /*#__PURE__*/_jsxDEV(ReceiptIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 314,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                        primary: \"Status\",\n                        secondary: translateStatus(quote.status)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), quote.description && /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  children: [/*#__PURE__*/_jsxDEV(Divider, {\n                    sx: {\n                      my: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle1\",\n                    gutterBottom: true,\n                    children: \"Beschreibung\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: quote.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            mb: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Angebotspositionen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      children: \"Beschreibung\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: \"Menge\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: \"Preis\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: \"MwSt.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: \"Rabatt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: \"Gesamt\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 353,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: [items.map(item => {\n                    const itemTotal = item.quantity * item.unit_price;\n                    const discount = itemTotal * (item.discount / 100);\n                    const afterDiscount = itemTotal - discount;\n                    const tax = afterDiscount * (item.tax_rate / 100);\n                    const total = afterDiscount + tax;\n                    return /*#__PURE__*/_jsxDEV(TableRow, {\n                      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                        children: item.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 366,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        align: \"right\",\n                        children: item.quantity\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 367,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        align: \"right\",\n                        children: formatCurrency(item.unit_price)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 368,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        align: \"right\",\n                        children: `${item.tax_rate}%`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 369,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        align: \"right\",\n                        children: `${item.discount}%`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        align: \"right\",\n                        children: formatCurrency(total)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 27\n                      }, this)]\n                    }, item.item_id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 25\n                    }, this);\n                  }), items.length === 0 && /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: /*#__PURE__*/_jsxDEV(TableCell, {\n                      colSpan: 6,\n                      align: \"center\",\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        color: \"textSecondary\",\n                        children: \"Keine Positionen vorhanden\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 378,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: 'flex-end',\n                mt: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: [\"Gesamtbetrag: \", formatCurrency(calculateTotal())]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), quote.notes && /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            mb: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Notizen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: quote.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: account && /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            mb: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Kunde\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                cursor: 'pointer',\n                '&:hover': {\n                  boxShadow: 6\n                }\n              },\n              onClick: handleAccountClick,\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: account.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(List, {\n                  dense: true,\n                  children: /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                      children: /*#__PURE__*/_jsxDEV(BusinessIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 431,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: \"Adresse\",\n                      secondary: account.address || 'Nicht angegeben'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!error,\n      autoHideDuration: 3000,\n      onClose: () => setError(null),\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          width: '100%'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n};\n_s(QuoteDetail, \"Aj/pg3DpS8jB126t7afZ5/rhlig=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c3 = QuoteDetail;\nexport default QuoteDetail;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"HeaderBox\");\n$RefreshReg$(_c2, \"InfoCard\");\n$RefreshReg$(_c3, \"QuoteDetail\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Paper","Button","Grid","Card","CardContent","Divider","List","ListItem","ListItemText","ListItemIcon","Chip","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","CircularProgress","Snackbar","Alert","styled","useNavigate","useParams","ArrowBackIcon","EditIcon","BusinessIcon","DescriptionIcon","ReceiptIcon","CalendarTodayIcon","EventAvailableIcon","axios","jsxDEV","_jsxDEV","API_URL","HeaderBox","theme","display","justifyContent","alignItems","marginBottom","spacing","_c","InfoCard","_c2","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","dateString","Date","toLocaleDateString","translateStatus","status","getStatusColor","QuoteDetail","_s","id","navigate","loading","setLoading","error","setError","quote","setQuote","account","setAccount","items","setItems","fetchQuote","response","get","data","success","err","console","account_id","fetchAccount","quote_id","fetchItems","calculateTotal","reduce","total","item","itemTotal","quantity","unit_price","discount","afterDiscount","tax","tax_rate","handleBack","handleEdit","handleAccountClick","handleCreateInvoice","handleExportPdf","alert","sx","p","children","fileName","_jsxFileName","lineNumber","columnNumber","startIcon","onClick","textAlign","color","mr","variant","title","label","size","ml","container","xs","md","mb","gutterBottom","dense","primary","secondary","issue_date","valid_until","description","my","align","map","item_id","length","colSpan","mt","notes","cursor","boxShadow","name","address","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","width","_c3","$RefreshReg$"],"sources":["/Users/svenwinkler/CRM-Argus/frontend/src/pages/quotes/QuoteDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Box, \n  Typography, \n  Paper, \n  Button, \n  Grid,\n  Card,\n  CardContent,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  Chip,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  CircularProgress,\n  Snackbar,\n  Alert\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport EditIcon from '@mui/icons-material/Edit';\nimport BusinessIcon from '@mui/icons-material/Business';\nimport DescriptionIcon from '@mui/icons-material/Description';\nimport ReceiptIcon from '@mui/icons-material/Receipt';\nimport CalendarTodayIcon from '@mui/icons-material/CalendarToday';\nimport EventAvailableIcon from '@mui/icons-material/EventAvailable';\nimport axios from 'axios';\n\n// API Service für Angebote\nconst API_URL = 'http://localhost:3000/api';\n\n// Styled-Komponente für den Header-Bereich\nconst HeaderBox = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  marginBottom: theme.spacing(3),\n}));\n\n// Styled-Komponente für die Info-Karte\nconst InfoCard = styled(Card)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n}));\n\n// Funktion zum Formatieren von Währungsbeträgen\nconst formatCurrency = (amount) => {\n  return new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' }).format(amount);\n};\n\n// Funktion zum Formatieren von Datumsangaben\nconst formatDate = (dateString) => {\n  if (!dateString) return 'Nicht angegeben';\n  return new Date(dateString).toLocaleDateString('de-DE');\n};\n\n// Funktion zum Übersetzen des Status\nconst translateStatus = (status) => {\n  switch (status) {\n    case 'draft': return 'Entwurf';\n    case 'sent': return 'Gesendet';\n    case 'accepted': return 'Akzeptiert';\n    case 'rejected': return 'Abgelehnt';\n    default: return status;\n  }\n};\n\n// Funktion zum Bestimmen der Statusfarbe\nconst getStatusColor = (status) => {\n  switch (status) {\n    case 'accepted': return 'success';\n    case 'rejected': return 'error';\n    case 'sent': return 'primary';\n    default: return 'default';\n  }\n};\n\nconst QuoteDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [quote, setQuote] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [items, setItems] = useState([]);\n\n  // Angebots-Daten laden\n  useEffect(() => {\n    const fetchQuote = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(`${API_URL}/quotes/${id}`);\n        if (response.data.success) {\n          setQuote(response.data.data);\n        } else {\n          setError('Fehler beim Laden der Angebots-Daten');\n        }\n      } catch (err) {\n        console.error('Fehler beim Abrufen des Angebots:', err);\n        setError('Fehler beim Laden der Angebots-Daten');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchQuote();\n  }, [id]);\n\n  // Account-Daten laden, wenn Angebot geladen wurde\n  useEffect(() => {\n    if (quote && quote.account_id) {\n      const fetchAccount = async () => {\n        try {\n          const response = await axios.get(`${API_URL}/accounts/${quote.account_id}`);\n          if (response.data.success) {\n            setAccount(response.data.data);\n          }\n        } catch (err) {\n          console.error('Fehler beim Abrufen des Accounts:', err);\n        }\n      };\n\n      fetchAccount();\n    }\n  }, [quote]);\n\n  // Angebotspositionen laden, wenn Angebot geladen wurde\n  useEffect(() => {\n    if (quote && quote.quote_id) {\n      const fetchItems = async () => {\n        try {\n          const response = await axios.get(`${API_URL}/quotes/${id}/items`);\n          if (response.data.success) {\n            setItems(response.data.data);\n          }\n        } catch (err) {\n          console.error('Fehler beim Abrufen der Angebotspositionen:', err);\n        }\n      };\n\n      fetchItems();\n    }\n  }, [id, quote]);\n\n  // Gesamtbetrag berechnen\n  const calculateTotal = () => {\n    return items.reduce((total, item) => {\n      const itemTotal = item.quantity * item.unit_price;\n      const discount = itemTotal * (item.discount / 100);\n      const afterDiscount = itemTotal - discount;\n      const tax = afterDiscount * (item.tax_rate / 100);\n      return total + afterDiscount + tax;\n    }, 0);\n  };\n\n  // Zurück zur Angebots-Liste\n  const handleBack = () => {\n    navigate('/quotes');\n  };\n\n  // Zum Bearbeiten-Formular navigieren\n  const handleEdit = () => {\n    navigate(`/quotes/edit/${id}`);\n  };\n\n  // Zum Account navigieren\n  const handleAccountClick = () => {\n    if (account) {\n      navigate(`/accounts/${account.account_id}`);\n    }\n  };\n\n  // Angebot in Rechnung umwandeln\n  const handleCreateInvoice = () => {\n    navigate(`/invoices/new?quote_id=${id}`);\n  };\n\n  // Angebot als PDF exportieren\n  const handleExportPdf = () => {\n    // Diese Funktion würde in einer erweiterten Version implementiert werden\n    alert('PDF-Export-Funktion wird in einer zukünftigen Version implementiert.');\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error || !quote) {\n    return (\n      <Box>\n        <HeaderBox>\n          <Button \n            startIcon={<ArrowBackIcon />} \n            onClick={handleBack}\n          >\n            Zurück\n          </Button>\n        </HeaderBox>\n        <Paper sx={{ p: 3, textAlign: 'center' }}>\n          <Typography color=\"error\">\n            {error || 'Angebot nicht gefunden'}\n          </Typography>\n        </Paper>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <HeaderBox>\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          <Button \n            startIcon={<ArrowBackIcon />} \n            onClick={handleBack}\n            sx={{ mr: 2 }}\n          >\n            Zurück\n          </Button>\n          <Typography variant=\"h4\">\n            {quote.title}\n          </Typography>\n          <Chip \n            label={translateStatus(quote.status)}\n            color={getStatusColor(quote.status)}\n            size=\"small\"\n            sx={{ ml: 2 }}\n          />\n        </Box>\n        <Box>\n          <Button \n            variant=\"outlined\" \n            color=\"primary\" \n            onClick={handleExportPdf}\n            sx={{ mr: 1 }}\n          >\n            Als PDF\n          </Button>\n          {quote.status === 'accepted' && (\n            <Button \n              variant=\"outlined\" \n              color=\"primary\" \n              onClick={handleCreateInvoice}\n              sx={{ mr: 1 }}\n            >\n              Rechnung erstellen\n            </Button>\n          )}\n          <Button \n            variant=\"contained\" \n            color=\"primary\" \n            startIcon={<EditIcon />}\n            onClick={handleEdit}\n          >\n            Bearbeiten\n          </Button>\n        </Box>\n      </HeaderBox>\n\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={8}>\n          <Paper sx={{ mb: 3 }}>\n            <InfoCard>\n              <CardContent>\n                <Typography variant=\"h6\" gutterBottom>\n                  Angebotsinformationen\n                </Typography>\n                <Grid container spacing={2}>\n                  <Grid item xs={12} md={6}>\n                    <List dense>\n                      <ListItem>\n                        <ListItemIcon>\n                          <DescriptionIcon />\n                        </ListItemIcon>\n                        <ListItemText \n                          primary=\"Titel\" \n                          secondary={quote.title} \n                        />\n                      </ListItem>\n                      <ListItem>\n                        <ListItemIcon>\n                          <CalendarTodayIcon />\n                        </ListItemIcon>\n                        <ListItemText \n                          primary=\"Ausstellungsdatum\" \n                          secondary={formatDate(quote.issue_date)} \n                        />\n                      </ListItem>\n                    </List>\n                  </Grid>\n                  <Grid item xs={12} md={6}>\n                    <List dense>\n                      <ListItem>\n                        <ListItemIcon>\n                          <EventAvailableIcon />\n                        </ListItemIcon>\n                        <ListItemText \n                          primary=\"Gültig bis\" \n                          secondary={formatDate(quote.valid_until)} \n                        />\n                      </ListItem>\n                      <ListItem>\n                        <ListItemIcon>\n                          <ReceiptIcon />\n                        </ListItemIcon>\n                        <ListItemText \n                          primary=\"Status\" \n                          secondary={translateStatus(quote.status)} \n                        />\n                      </ListItem>\n                    </List>\n                  </Grid>\n                  {quote.description && (\n                    <Grid item xs={12}>\n                      <Divider sx={{ my: 1 }} />\n                      <Typography variant=\"subtitle1\" gutterBottom>\n                        Beschreibung\n                      </Typography>\n                      <Typography variant=\"body2\">\n                        {quote.description}\n                      </Typography>\n                    </Grid>\n                  )}\n                </Grid>\n              </CardContent>\n            </InfoCard>\n          </Paper>\n\n          <Paper sx={{ mb: 3 }}>\n            <CardContent>\n              <Typography variant=\"h6\" gutterBottom>\n                Angebotspositionen\n              </Typography>\n              <TableContainer>\n                <Table>\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>Beschreibung</TableCell>\n                      <TableCell align=\"right\">Menge</TableCell>\n                      <TableCell align=\"right\">Preis</TableCell>\n                      <TableCell align=\"right\">MwSt.</TableCell>\n                      <TableCell align=\"right\">Rabatt</TableCell>\n                      <TableCell align=\"right\">Gesamt</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {items.map((item) => {\n                      const itemTotal = item.quantity * item.unit_price;\n                      const discount = itemTotal * (item.discount / 100);\n                      const afterDiscount = itemTotal - discount;\n                      const tax = afterDiscount * (item.tax_rate / 100);\n                      const total = afterDiscount + tax;\n                      \n                      return (\n                        <TableRow key={item.item_id}>\n                          <TableCell>{item.description}</TableCell>\n                          <TableCell align=\"right\">{item.quantity}</TableCell>\n                          <TableCell align=\"right\">{formatCurrency(item.unit_price)}</TableCell>\n                          <TableCell align=\"right\">{`${item.tax_rate}%`}</TableCell>\n                          <TableCell align=\"right\">{`${item.discount}%`}</TableCell>\n                          <TableCell align=\"right\">{formatCurrency(total)}</TableCell>\n                        </TableRow>\n                      );\n                    })}\n                    {items.length === 0 && (\n                      <TableRow>\n                        <TableCell colSpan={6} align=\"center\">\n                          <Typography variant=\"body2\" color=\"textSecondary\">\n                            Keine Positionen vorhanden\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    )}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n              \n              <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 2 }}>\n                <Typography variant=\"h6\">\n                  Gesamtbetrag: {formatCurrency(calculateTotal())}\n                </Typography>\n              </Box>\n            </CardContent>\n          </Paper>\n\n          {quote.notes && (\n            <Paper sx={{ mb: 3 }}>\n              <CardContent>\n                <Typography variant=\"h6\" gutterBottom>\n                  Notizen\n                </Typography>\n                <Typography variant=\"body2\">\n                  {quote.notes}\n                </Typography>\n              </CardContent>\n            </Paper>\n          )}\n        </Grid>\n\n        <Grid item xs={12} md={4}>\n          {account && (\n            <Paper sx={{ mb: 3 }}>\n              <CardContent>\n                <Typography variant=\"h6\" gutterBottom>\n                  Kunde\n                </Typography>\n                <Card \n                  sx={{ \n                    cursor: 'pointer',\n                    '&:hover': { boxShadow: 6 }\n                  }}\n                  onClick={handleAccountClick}\n                >\n                  <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                      {account.name}\n                    </Typography>\n                    <List dense>\n                      <ListItem>\n                        <ListItemIcon>\n                          <BusinessIcon />\n                        </ListItemIcon>\n                        <ListItemText \n                          primary=\"Adresse\" \n                          secondary={account.address || 'Nicht angegeben'} \n                        />\n                      </ListItem>\n                    </List>\n                  </CardContent>\n                </Card>\n              </CardContent>\n            </Paper>\n          )}\n        </Grid>\n      </Grid>\n\n      <Snackbar \n        open={!!error} \n        autoHideDuration={3000} \n        onClose={() => setError(null)}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert severity=\"error\" sx={{ width: '100%' }}>\n          {error}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default QuoteDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}