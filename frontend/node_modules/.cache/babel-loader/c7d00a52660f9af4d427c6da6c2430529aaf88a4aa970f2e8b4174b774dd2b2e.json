{"ast":null,"code":"var _jsxFileName = \"/Users/svenwinkler/CRM-Argus/frontend/src/pages/quotes/QuoteForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Typography, Paper, Button, TextField, Grid, Card, CardContent, FormControl, InputLabel, Select, MenuItem, CircularProgress, Snackbar, Alert, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, IconButton } from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport SaveIcon from '@mui/icons-material/Save';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport axios from 'axios';\n\n// API Service für Angebote\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:3000/api';\n\n// Styled-Komponente für den Header-Bereich\nconst HeaderBox = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  marginBottom: theme.spacing(3)\n}));\n\n// Styled-Komponente für die Form-Karte\n_c = HeaderBox;\nconst FormCard = styled(Card)(({\n  theme\n}) => ({\n  marginBottom: theme.spacing(3)\n}));\n_c2 = FormCard;\nconst QuoteForm = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [accounts, setAccounts] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [quote, setQuote] = useState({\n    account_id: '',\n    title: '',\n    description: '',\n    issue_date: new Date().toISOString().split('T')[0],\n    valid_until: '',\n    status: 'draft',\n    notes: '',\n    items: []\n  });\n  const isEditMode = !!id;\n\n  // Accounts laden für die Auswahl\n  useEffect(() => {\n    const fetchAccounts = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/accounts`);\n        if (response.data.success) {\n          setAccounts(response.data.data);\n        }\n      } catch (err) {\n        console.error('Fehler beim Abrufen der Accounts:', err);\n      }\n    };\n    fetchAccounts();\n  }, []);\n\n  // Produkte laden für die Auswahl\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/products`);\n        if (response.data.success) {\n          setProducts(response.data.data);\n        }\n      } catch (err) {\n        console.error('Fehler beim Abrufen der Produkte:', err);\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  // Angebots-Daten laden, wenn im Edit-Modus\n  useEffect(() => {\n    if (isEditMode) {\n      const fetchQuote = async () => {\n        try {\n          setLoading(true);\n          const response = await axios.get(`${API_URL}/quotes/${id}`);\n          if (response.data.success) {\n            setQuote(response.data.data);\n          } else {\n            setError('Fehler beim Laden der Angebots-Daten');\n          }\n        } catch (err) {\n          console.error('Fehler beim Abrufen des Angebots:', err);\n          setError('Fehler beim Laden der Angebots-Daten');\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchQuote();\n    }\n  }, [id, isEditMode]);\n\n  // Formular-Eingaben aktualisieren\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setQuote(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Neues Item zum Angebot hinzufügen\n  const handleAddItem = () => {\n    setQuote(prev => ({\n      ...prev,\n      items: [...prev.items, {\n        product_id: '',\n        description: '',\n        quantity: 1,\n        unit_price: 0,\n        tax_rate: 19,\n        discount: 0\n      }]\n    }));\n  };\n\n  // Item aus dem Angebot entfernen\n  const handleRemoveItem = index => {\n    setQuote(prev => ({\n      ...prev,\n      items: prev.items.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Item-Eingaben aktualisieren\n  const handleItemChange = (index, field, value) => {\n    setQuote(prev => {\n      const updatedItems = [...prev.items];\n      updatedItems[index] = {\n        ...updatedItems[index],\n        [field]: value\n      };\n\n      // Wenn ein Produkt ausgewählt wurde, Produktdaten übernehmen\n      if (field === 'product_id' && value) {\n        const selectedProduct = products.find(p => p.product_id === value);\n        if (selectedProduct) {\n          updatedItems[index].description = selectedProduct.description || '';\n          updatedItems[index].unit_price = selectedProduct.price || 0;\n        }\n      }\n      return {\n        ...prev,\n        items: updatedItems\n      };\n    });\n  };\n\n  // Gesamtbetrag berechnen\n  const calculateTotal = () => {\n    return quote.items.reduce((total, item) => {\n      const itemTotal = item.quantity * item.unit_price;\n      const discount = itemTotal * (item.discount / 100);\n      const afterDiscount = itemTotal - discount;\n      const tax = afterDiscount * (item.tax_rate / 100);\n      return total + afterDiscount + tax;\n    }, 0);\n  };\n\n  // Formular absenden\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSaving(true);\n    setError(null);\n    try {\n      let response;\n      if (isEditMode) {\n        // Angebot aktualisieren\n        response = await axios.put(`${API_URL}/quotes/${id}`, quote);\n      } else {\n        // Neues Angebot erstellen\n        response = await axios.post(`${API_URL}/quotes`, quote);\n      }\n      if (response.data.success) {\n        setSuccess(true);\n        // Nach erfolgreicher Speicherung zur Angebots-Liste zurückkehren\n        setTimeout(() => {\n          navigate('/quotes');\n        }, 1500);\n      } else {\n        setError('Fehler beim Speichern des Angebots');\n      }\n    } catch (err) {\n      console.error('Fehler beim Speichern des Angebots:', err);\n      setError('Fehler beim Speichern des Angebots');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Zurück zur Angebots-Liste\n  const handleBack = () => {\n    navigate('/quotes');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderBox, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 24\n          }, this),\n          onClick: handleBack,\n          sx: {\n            mr: 2\n          },\n          children: \"Zur\\xFCck\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: isEditMode ? 'Angebot bearbeiten' : 'Neues Angebot'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 22\n        }, this),\n        onClick: handleSubmit,\n        disabled: saving,\n        children: saving ? 'Wird gespeichert...' : 'Speichern'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(FormCard, {\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: \"Allgemeine Informationen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      fullWidth: true,\n                      margin: \"normal\",\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        id: \"account-select-label\",\n                        children: \"Account\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        labelId: \"account-select-label\",\n                        id: \"account-select\",\n                        name: \"account_id\",\n                        value: quote.account_id || '',\n                        onChange: handleChange,\n                        label: \"Account\",\n                        required: true,\n                        children: accounts.map(account => /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: account.account_id,\n                          children: account.name\n                        }, account.account_id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 295,\n                          columnNumber: 29\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      fullWidth: true,\n                      margin: \"normal\",\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        id: \"status-select-label\",\n                        children: \"Status\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        labelId: \"status-select-label\",\n                        id: \"status-select\",\n                        name: \"status\",\n                        value: quote.status || 'draft',\n                        onChange: handleChange,\n                        label: \"Status\",\n                        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"draft\",\n                          children: \"Entwurf\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 313,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"sent\",\n                          children: \"Gesendet\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 314,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"accepted\",\n                          children: \"Akzeptiert\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 315,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"rejected\",\n                          children: \"Abgelehnt\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 316,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      required: true,\n                      label: \"Titel\",\n                      name: \"title\",\n                      value: quote.title || '',\n                      onChange: handleChange,\n                      variant: \"outlined\",\n                      margin: \"normal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"Beschreibung\",\n                      name: \"description\",\n                      value: quote.description || '',\n                      onChange: handleChange,\n                      variant: \"outlined\",\n                      margin: \"normal\",\n                      multiline: true,\n                      rows: 2\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      required: true,\n                      label: \"Ausstellungsdatum\",\n                      name: \"issue_date\",\n                      type: \"date\",\n                      value: quote.issue_date || '',\n                      onChange: handleChange,\n                      variant: \"outlined\",\n                      margin: \"normal\",\n                      InputLabelProps: {\n                        shrink: true\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"G\\xFCltig bis\",\n                      name: \"valid_until\",\n                      type: \"date\",\n                      value: quote.valid_until || '',\n                      onChange: handleChange,\n                      variant: \"outlined\",\n                      margin: \"normal\",\n                      InputLabelProps: {\n                        shrink: true\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(FormCard, {\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    mb: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    children: \"Positionen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outlined\",\n                    startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 34\n                    }, this),\n                    onClick: handleAddItem,\n                    children: \"Position hinzuf\\xFCgen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n                  children: /*#__PURE__*/_jsxDEV(Table, {\n                    children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                      children: /*#__PURE__*/_jsxDEV(TableRow, {\n                        children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                          children: \"Produkt\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 401,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          children: \"Beschreibung\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 402,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"right\",\n                          children: \"Menge\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 403,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"right\",\n                          children: \"Preis (\\u20AC)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 404,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"right\",\n                          children: \"MwSt. (%)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 405,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"right\",\n                          children: \"Rabatt (%)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 406,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                          align: \"right\",\n                          children: \"Gesamt (\\u20AC)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 407,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 408,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 400,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                      children: [quote.items.map((item, index) => {\n                        const itemTotal = item.quantity * item.unit_price;\n                        const discount = itemTotal * (item.discount / 100);\n                        const afterDiscount = itemTotal - discount;\n                        const tax = afterDiscount * (item.tax_rate / 100);\n                        const total = afterDiscount + tax;\n                        return /*#__PURE__*/_jsxDEV(TableRow, {\n                          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                            children: /*#__PURE__*/_jsxDEV(FormControl, {\n                              fullWidth: true,\n                              children: /*#__PURE__*/_jsxDEV(Select, {\n                                value: item.product_id || '',\n                                onChange: e => handleItemChange(index, 'product_id', e.target.value),\n                                displayEmpty: true,\n                                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                                  value: \"\",\n                                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                                    children: \"Produkt ausw\\xE4hlen\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 429,\n                                    columnNumber: 39\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 428,\n                                  columnNumber: 37\n                                }, this), products.map(product => /*#__PURE__*/_jsxDEV(MenuItem, {\n                                  value: product.product_id,\n                                  children: product.name\n                                }, product.product_id, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 432,\n                                  columnNumber: 39\n                                }, this))]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 423,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 422,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 421,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                            children: /*#__PURE__*/_jsxDEV(TextField, {\n                              fullWidth: true,\n                              value: item.description || '',\n                              onChange: e => handleItemChange(index, 'description', e.target.value),\n                              variant: \"standard\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 440,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 439,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                            align: \"right\",\n                            children: /*#__PURE__*/_jsxDEV(TextField, {\n                              type: \"number\",\n                              value: item.quantity || 1,\n                              onChange: e => handleItemChange(index, 'quantity', parseFloat(e.target.value) || 0),\n                              variant: \"standard\",\n                              inputProps: {\n                                min: 1,\n                                step: 1\n                              },\n                              sx: {\n                                width: '60px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 448,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 447,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                            align: \"right\",\n                            children: /*#__PURE__*/_jsxDEV(TextField, {\n                              type: \"number\",\n                              value: item.unit_price || 0,\n                              onChange: e => handleItemChange(index, 'unit_price', parseFloat(e.target.value) || 0),\n                              variant: \"standard\",\n                              inputProps: {\n                                min: 0,\n                                step: 0.01\n                              },\n                              sx: {\n                                width: '80px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 458,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 457,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                            align: \"right\",\n                            children: /*#__PURE__*/_jsxDEV(TextField, {\n                              type: \"number\",\n                              value: item.tax_rate || 19,\n                              onChange: e => handleItemChange(index, 'tax_rate', parseFloat(e.target.value) || 0),\n                              variant: \"standard\",\n                              inputProps: {\n                                min: 0,\n                                max: 100,\n                                step: 0.1\n                              },\n                              sx: {\n                                width: '60px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 468,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 467,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                            align: \"right\",\n                            children: /*#__PURE__*/_jsxDEV(TextField, {\n                              type: \"number\",\n                              value: item.discount || 0,\n                              onChange: e => handleItemChange(index, 'discount', parseFloat(e.target.value) || 0),\n                              variant: \"standard\",\n                              inputProps: {\n                                min: 0,\n                                max: 100,\n                                step: 0.1\n                              },\n                              sx: {\n                                width: '60px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 478,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 477,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                            align: \"right\",\n                            children: total.toFixed(2)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 487,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                            children: /*#__PURE__*/_jsxDEV(IconButton, {\n                              color: \"error\",\n                              onClick: () => handleRemoveItem(index),\n                              size: \"small\",\n                              children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 496,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 491,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 490,\n                            columnNumber: 31\n                          }, this)]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 420,\n                          columnNumber: 29\n                        }, this);\n                      }), quote.items.length === 0 && /*#__PURE__*/_jsxDEV(TableRow, {\n                        children: /*#__PURE__*/_jsxDEV(TableCell, {\n                          colSpan: 8,\n                          align: \"center\",\n                          children: /*#__PURE__*/_jsxDEV(Typography, {\n                            variant: \"body2\",\n                            color: \"textSecondary\",\n                            children: \"Keine Positionen vorhanden. Klicken Sie auf \\\"Position hinzuf\\xFCgen\\\", um zu beginnen.\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 505,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 504,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    justifyContent: 'flex-end',\n                    mt: 2\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    children: [\"Gesamtbetrag: \", calculateTotal().toFixed(2), \" \\u20AC\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(FormCard, {\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: \"Zus\\xE4tzliche Informationen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"Notizen\",\n                      name: \"notes\",\n                      value: quote.notes || '',\n                      onChange: handleChange,\n                      variant: \"outlined\",\n                      margin: \"normal\",\n                      multiline: true,\n                      rows: 4\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 532,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 531,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: success,\n      autoHideDuration: 3000,\n      onClose: () => setSuccess(false),\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        sx: {\n          width: '100%'\n        },\n        children: [\"Angebot erfolgreich \", isEditMode ? 'aktualisiert' : 'erstellt', \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!error,\n      autoHideDuration: 3000,\n      onClose: () => setError(null),\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          width: '100%'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n};\n_s(QuoteForm, \"T+7LwyVo5Uyq4/IW3TA5+2PrR8A=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c3 = QuoteForm;\nexport default QuoteForm;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"HeaderBox\");\n$RefreshReg$(_c2, \"FormCard\");\n$RefreshReg$(_c3, \"QuoteForm\");","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Paper","Button","TextField","Grid","Card","CardContent","FormControl","InputLabel","Select","MenuItem","CircularProgress","Snackbar","Alert","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","IconButton","styled","useNavigate","useParams","ArrowBackIcon","SaveIcon","AddIcon","DeleteIcon","axios","jsxDEV","_jsxDEV","API_URL","HeaderBox","theme","display","justifyContent","alignItems","marginBottom","spacing","_c","FormCard","_c2","QuoteForm","_s","id","navigate","loading","setLoading","saving","setSaving","error","setError","success","setSuccess","accounts","setAccounts","products","setProducts","quote","setQuote","account_id","title","description","issue_date","Date","toISOString","split","valid_until","status","notes","items","isEditMode","fetchAccounts","response","get","data","err","console","fetchProducts","fetchQuote","handleChange","e","name","value","target","prev","handleAddItem","product_id","quantity","unit_price","tax_rate","discount","handleRemoveItem","index","filter","_","i","handleItemChange","field","updatedItems","selectedProduct","find","p","price","calculateTotal","reduce","total","item","itemTotal","afterDiscount","tax","handleSubmit","preventDefault","put","post","setTimeout","handleBack","sx","children","fileName","_jsxFileName","lineNumber","columnNumber","startIcon","onClick","mr","variant","color","disabled","onSubmit","container","xs","gutterBottom","md","fullWidth","margin","labelId","onChange","label","required","map","account","multiline","rows","type","InputLabelProps","shrink","mb","align","displayEmpty","product","parseFloat","inputProps","min","step","width","max","toFixed","size","length","colSpan","mt","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","_c3","$RefreshReg$"],"sources":["/Users/svenwinkler/CRM-Argus/frontend/src/pages/quotes/QuoteForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Box, \n  Typography, \n  Paper, \n  Button, \n  TextField, \n  Grid,\n  Card,\n  CardContent,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  CircularProgress,\n  Snackbar,\n  Alert,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  IconButton\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport SaveIcon from '@mui/icons-material/Save';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport axios from 'axios';\n\n// API Service für Angebote\nconst API_URL = 'http://localhost:3000/api';\n\n// Styled-Komponente für den Header-Bereich\nconst HeaderBox = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  marginBottom: theme.spacing(3),\n}));\n\n// Styled-Komponente für die Form-Karte\nconst FormCard = styled(Card)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n}));\n\nconst QuoteForm = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [accounts, setAccounts] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [quote, setQuote] = useState({\n    account_id: '',\n    title: '',\n    description: '',\n    issue_date: new Date().toISOString().split('T')[0],\n    valid_until: '',\n    status: 'draft',\n    notes: '',\n    items: []\n  });\n\n  const isEditMode = !!id;\n\n  // Accounts laden für die Auswahl\n  useEffect(() => {\n    const fetchAccounts = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/accounts`);\n        if (response.data.success) {\n          setAccounts(response.data.data);\n        }\n      } catch (err) {\n        console.error('Fehler beim Abrufen der Accounts:', err);\n      }\n    };\n\n    fetchAccounts();\n  }, []);\n\n  // Produkte laden für die Auswahl\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/products`);\n        if (response.data.success) {\n          setProducts(response.data.data);\n        }\n      } catch (err) {\n        console.error('Fehler beim Abrufen der Produkte:', err);\n      }\n    };\n\n    fetchProducts();\n  }, []);\n\n  // Angebots-Daten laden, wenn im Edit-Modus\n  useEffect(() => {\n    if (isEditMode) {\n      const fetchQuote = async () => {\n        try {\n          setLoading(true);\n          const response = await axios.get(`${API_URL}/quotes/${id}`);\n          if (response.data.success) {\n            setQuote(response.data.data);\n          } else {\n            setError('Fehler beim Laden der Angebots-Daten');\n          }\n        } catch (err) {\n          console.error('Fehler beim Abrufen des Angebots:', err);\n          setError('Fehler beim Laden der Angebots-Daten');\n        } finally {\n          setLoading(false);\n        }\n      };\n\n      fetchQuote();\n    }\n  }, [id, isEditMode]);\n\n  // Formular-Eingaben aktualisieren\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setQuote(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Neues Item zum Angebot hinzufügen\n  const handleAddItem = () => {\n    setQuote(prev => ({\n      ...prev,\n      items: [\n        ...prev.items,\n        {\n          product_id: '',\n          description: '',\n          quantity: 1,\n          unit_price: 0,\n          tax_rate: 19,\n          discount: 0\n        }\n      ]\n    }));\n  };\n\n  // Item aus dem Angebot entfernen\n  const handleRemoveItem = (index) => {\n    setQuote(prev => ({\n      ...prev,\n      items: prev.items.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Item-Eingaben aktualisieren\n  const handleItemChange = (index, field, value) => {\n    setQuote(prev => {\n      const updatedItems = [...prev.items];\n      updatedItems[index] = {\n        ...updatedItems[index],\n        [field]: value\n      };\n      \n      // Wenn ein Produkt ausgewählt wurde, Produktdaten übernehmen\n      if (field === 'product_id' && value) {\n        const selectedProduct = products.find(p => p.product_id === value);\n        if (selectedProduct) {\n          updatedItems[index].description = selectedProduct.description || '';\n          updatedItems[index].unit_price = selectedProduct.price || 0;\n        }\n      }\n      \n      return {\n        ...prev,\n        items: updatedItems\n      };\n    });\n  };\n\n  // Gesamtbetrag berechnen\n  const calculateTotal = () => {\n    return quote.items.reduce((total, item) => {\n      const itemTotal = item.quantity * item.unit_price;\n      const discount = itemTotal * (item.discount / 100);\n      const afterDiscount = itemTotal - discount;\n      const tax = afterDiscount * (item.tax_rate / 100);\n      return total + afterDiscount + tax;\n    }, 0);\n  };\n\n  // Formular absenden\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n    setError(null);\n\n    try {\n      let response;\n      \n      if (isEditMode) {\n        // Angebot aktualisieren\n        response = await axios.put(`${API_URL}/quotes/${id}`, quote);\n      } else {\n        // Neues Angebot erstellen\n        response = await axios.post(`${API_URL}/quotes`, quote);\n      }\n\n      if (response.data.success) {\n        setSuccess(true);\n        // Nach erfolgreicher Speicherung zur Angebots-Liste zurückkehren\n        setTimeout(() => {\n          navigate('/quotes');\n        }, 1500);\n      } else {\n        setError('Fehler beim Speichern des Angebots');\n      }\n    } catch (err) {\n      console.error('Fehler beim Speichern des Angebots:', err);\n      setError('Fehler beim Speichern des Angebots');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Zurück zur Angebots-Liste\n  const handleBack = () => {\n    navigate('/quotes');\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <HeaderBox>\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          <Button \n            startIcon={<ArrowBackIcon />} \n            onClick={handleBack}\n            sx={{ mr: 2 }}\n          >\n            Zurück\n          </Button>\n          <Typography variant=\"h4\">\n            {isEditMode ? 'Angebot bearbeiten' : 'Neues Angebot'}\n          </Typography>\n        </Box>\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          startIcon={<SaveIcon />}\n          onClick={handleSubmit}\n          disabled={saving}\n        >\n          {saving ? 'Wird gespeichert...' : 'Speichern'}\n        </Button>\n      </HeaderBox>\n\n      <Paper sx={{ p: 3 }}>\n        <form onSubmit={handleSubmit}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <FormCard>\n                <CardContent>\n                  <Typography variant=\"h6\" gutterBottom>\n                    Allgemeine Informationen\n                  </Typography>\n                  <Grid container spacing={2}>\n                    <Grid item xs={12} md={6}>\n                      <FormControl fullWidth margin=\"normal\">\n                        <InputLabel id=\"account-select-label\">Account</InputLabel>\n                        <Select\n                          labelId=\"account-select-label\"\n                          id=\"account-select\"\n                          name=\"account_id\"\n                          value={quote.account_id || ''}\n                          onChange={handleChange}\n                          label=\"Account\"\n                          required\n                        >\n                          {accounts.map((account) => (\n                            <MenuItem key={account.account_id} value={account.account_id}>\n                              {account.name}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                      <FormControl fullWidth margin=\"normal\">\n                        <InputLabel id=\"status-select-label\">Status</InputLabel>\n                        <Select\n                          labelId=\"status-select-label\"\n                          id=\"status-select\"\n                          name=\"status\"\n                          value={quote.status || 'draft'}\n                          onChange={handleChange}\n                          label=\"Status\"\n                        >\n                          <MenuItem value=\"draft\">Entwurf</MenuItem>\n                          <MenuItem value=\"sent\">Gesendet</MenuItem>\n                          <MenuItem value=\"accepted\">Akzeptiert</MenuItem>\n                          <MenuItem value=\"rejected\">Abgelehnt</MenuItem>\n                        </Select>\n                      </FormControl>\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        fullWidth\n                        required\n                        label=\"Titel\"\n                        name=\"title\"\n                        value={quote.title || ''}\n                        onChange={handleChange}\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        fullWidth\n                        label=\"Beschreibung\"\n                        name=\"description\"\n                        value={quote.description || ''}\n                        onChange={handleChange}\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        multiline\n                        rows={2}\n                      />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                      <TextField\n                        fullWidth\n                        required\n                        label=\"Ausstellungsdatum\"\n                        name=\"issue_date\"\n                        type=\"date\"\n                        value={quote.issue_date || ''}\n                        onChange={handleChange}\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        InputLabelProps={{\n                          shrink: true,\n                        }}\n                      />\n                    </Grid>\n                    <Grid item xs={12} md={6}>\n                      <TextField\n                        fullWidth\n                        label=\"Gültig bis\"\n                        name=\"valid_until\"\n                        type=\"date\"\n                        value={quote.valid_until || ''}\n                        onChange={handleChange}\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        InputLabelProps={{\n                          shrink: true,\n                        }}\n                      />\n                    </Grid>\n                  </Grid>\n                </CardContent>\n              </FormCard>\n            </Grid>\n\n            <Grid item xs={12}>\n              <FormCard>\n                <CardContent>\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n                    <Typography variant=\"h6\">\n                      Positionen\n                    </Typography>\n                    <Button \n                      variant=\"outlined\" \n                      startIcon={<AddIcon />} \n                      onClick={handleAddItem}\n                    >\n                      Position hinzufügen\n                    </Button>\n                  </Box>\n                  \n                  <TableContainer>\n                    <Table>\n                      <TableHead>\n                        <TableRow>\n                          <TableCell>Produkt</TableCell>\n                          <TableCell>Beschreibung</TableCell>\n                          <TableCell align=\"right\">Menge</TableCell>\n                          <TableCell align=\"right\">Preis (€)</TableCell>\n                          <TableCell align=\"right\">MwSt. (%)</TableCell>\n                          <TableCell align=\"right\">Rabatt (%)</TableCell>\n                          <TableCell align=\"right\">Gesamt (€)</TableCell>\n                          <TableCell></TableCell>\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        {quote.items.map((item, index) => {\n                          const itemTotal = item.quantity * item.unit_price;\n                          const discount = itemTotal * (item.discount / 100);\n                          const afterDiscount = itemTotal - discount;\n                          const tax = afterDiscount * (item.tax_rate / 100);\n                          const total = afterDiscount + tax;\n                          \n                          return (\n                            <TableRow key={index}>\n                              <TableCell>\n                                <FormControl fullWidth>\n                                  <Select\n                                    value={item.product_id || ''}\n                                    onChange={(e) => handleItemChange(index, 'product_id', e.target.value)}\n                                    displayEmpty\n                                  >\n                                    <MenuItem value=\"\">\n                                      <em>Produkt auswählen</em>\n                                    </MenuItem>\n                                    {products.map((product) => (\n                                      <MenuItem key={product.product_id} value={product.product_id}>\n                                        {product.name}\n                                      </MenuItem>\n                                    ))}\n                                  </Select>\n                                </FormControl>\n                              </TableCell>\n                              <TableCell>\n                                <TextField\n                                  fullWidth\n                                  value={item.description || ''}\n                                  onChange={(e) => handleItemChange(index, 'description', e.target.value)}\n                                  variant=\"standard\"\n                                />\n                              </TableCell>\n                              <TableCell align=\"right\">\n                                <TextField\n                                  type=\"number\"\n                                  value={item.quantity || 1}\n                                  onChange={(e) => handleItemChange(index, 'quantity', parseFloat(e.target.value) || 0)}\n                                  variant=\"standard\"\n                                  inputProps={{ min: 1, step: 1 }}\n                                  sx={{ width: '60px' }}\n                                />\n                              </TableCell>\n                              <TableCell align=\"right\">\n                                <TextField\n                                  type=\"number\"\n                                  value={item.unit_price || 0}\n                                  onChange={(e) => handleItemChange(index, 'unit_price', parseFloat(e.target.value) || 0)}\n                                  variant=\"standard\"\n                                  inputProps={{ min: 0, step: 0.01 }}\n                                  sx={{ width: '80px' }}\n                                />\n                              </TableCell>\n                              <TableCell align=\"right\">\n                                <TextField\n                                  type=\"number\"\n                                  value={item.tax_rate || 19}\n                                  onChange={(e) => handleItemChange(index, 'tax_rate', parseFloat(e.target.value) || 0)}\n                                  variant=\"standard\"\n                                  inputProps={{ min: 0, max: 100, step: 0.1 }}\n                                  sx={{ width: '60px' }}\n                                />\n                              </TableCell>\n                              <TableCell align=\"right\">\n                                <TextField\n                                  type=\"number\"\n                                  value={item.discount || 0}\n                                  onChange={(e) => handleItemChange(index, 'discount', parseFloat(e.target.value) || 0)}\n                                  variant=\"standard\"\n                                  inputProps={{ min: 0, max: 100, step: 0.1 }}\n                                  sx={{ width: '60px' }}\n                                />\n                              </TableCell>\n                              <TableCell align=\"right\">\n                                {total.toFixed(2)}\n                              </TableCell>\n                              <TableCell>\n                                <IconButton \n                                  color=\"error\" \n                                  onClick={() => handleRemoveItem(index)}\n                                  size=\"small\"\n                                >\n                                  <DeleteIcon />\n                                </IconButton>\n                              </TableCell>\n                            </TableRow>\n                          );\n                        })}\n                        {quote.items.length === 0 && (\n                          <TableRow>\n                            <TableCell colSpan={8} align=\"center\">\n                              <Typography variant=\"body2\" color=\"textSecondary\">\n                                Keine Positionen vorhanden. Klicken Sie auf \"Position hinzufügen\", um zu beginnen.\n                              </Typography>\n                            </TableCell>\n                          </TableRow>\n                        )}\n                      </TableBody>\n                    </Table>\n                  </TableContainer>\n                  \n                  <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 2 }}>\n                    <Typography variant=\"h6\">\n                      Gesamtbetrag: {calculateTotal().toFixed(2)} €\n                    </Typography>\n                  </Box>\n                </CardContent>\n              </FormCard>\n            </Grid>\n\n            <Grid item xs={12}>\n              <FormCard>\n                <CardContent>\n                  <Typography variant=\"h6\" gutterBottom>\n                    Zusätzliche Informationen\n                  </Typography>\n                  <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                      <TextField\n                        fullWidth\n                        label=\"Notizen\"\n                        name=\"notes\"\n                        value={quote.notes || ''}\n                        onChange={handleChange}\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        multiline\n                        rows={4}\n                      />\n                    </Grid>\n                  </Grid>\n                </CardContent>\n              </FormCard>\n            </Grid>\n          </Grid>\n        </form>\n      </Paper>\n\n      <Snackbar \n        open={success} \n        autoHideDuration={3000} \n        onClose={() => setSuccess(false)}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert severity=\"success\" sx={{ width: '100%' }}>\n          Angebot erfolgreich {isEditMode ? 'aktualisiert' : 'erstellt'}!\n        </Alert>\n      </Snackbar>\n\n      <Snackbar \n        open={!!error} \n        autoHideDuration={3000} \n        onClose={() => setError(null)}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert severity=\"error\" sx={{ width: '100%' }}>\n          {error}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default QuoteForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}